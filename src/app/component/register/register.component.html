<div class="loginmain">
  <div class="logincontainer">
    <div class="logwraper">
      <button type="button" class="close-btn" aria-label="Close" onclick="window.location.href = '/'">
        <span aria-hidden="true">&times;</span>
    </button>
      <h2>Register Here</h2>
      
      <form [formGroup]="userForm" (ngSubmit)="registerUser()">
        <div class="formwraper">

          <!-- Full Name Field -->
          <input type="text" class="form-control" id="name" formControlName="name" placeholder="Full Name" />
          <div *ngIf="userForm.get('name')?.touched && userForm.get('name')?.invalid" class="alert alert-danger mt-2">
            Full Name is required.
          </div>

          <!-- Email Field -->
          <input type="email" class="form-control" id="email" formControlName="email" placeholder="Enter your Email" />
          <div *ngIf="userForm.get('email')?.touched && userForm.get('email')?.invalid" class="alert alert-danger mt-2">
            Valid Email is required.
          </div>

          <!-- Gender Field -->
          <div class="form-group">
            <label for="gender">Gender:</label>
            <select id="gender" formControlName="gender" class="form-control">
              <option value="" disabled>Select Gender</option>
              <option value="Male">Male</option>
              <option value="Female">Female</option>
              <option value="Other">Other</option>
            </select>
            <div *ngIf="userForm.get('gender')?.touched && userForm.get('gender')?.invalid" class="alert alert-danger mt-2">
              Gender is required.
            </div>
          </div>

          <!-- Mobile Number Field -->
          <input type="text" class="form-control" id="mobileNo" formControlName="mobileNo" placeholder="Enter Mobile No" />
          <div *ngIf="userForm.get('mobileNo')?.touched && userForm.get('mobileNo')?.errors?.['invalidMobileNumber']" class="alert alert-danger mt-2">
            Mobile Number must be exactly 10 digits long.
          </div>

          <!-- Address Field -->
          <input type="text" class="form-control" id="address" formControlName="address" placeholder="Enter Address" />
          <div *ngIf="userForm.get('address')?.touched && userForm.get('address')?.invalid" class="alert alert-danger mt-2">
            Address is required.
          </div>

          <!-- Username Field -->
          <input type="text" class="form-control" id="username" formControlName="username" placeholder="Username" />
          <div *ngIf="userForm.get('username')?.touched && userForm.get('username')?.invalid" class="alert alert-danger mt-2">
            Username is required.
          </div>

          <!-- Password Field -->
          <input type="password" class="form-control" id="password" formControlName="password" placeholder="Password" />
          <div *ngIf="userForm.get('password')?.touched && userForm.get('password')?.invalid" class="alert alert-danger mt-2">
            Password is required and must be at least 6 characters long.
          </div>

          <!-- Confirm Password Field -->
          <input type="password" class="form-control" id="confirmPassword" formControlName="confirmPassword" placeholder="Confirm Password" />
          <div *ngIf="userForm.get('confirmPassword')?.touched && userForm.get('confirmPassword')?.errors?.['passwordMismatch']" class="alert alert-danger mt-2">
            Passwords must match.
          </div>

          <div>
            <label for="profilePicture">Profile Picture:</label>
            <input id="profilePicture" type="file" (change)="onFileSelected($event)" />
          </div>

          <!-- Terms and Conditions Checkbox -->
          <div class="form-group">
            <input type="checkbox" formControlName="termsAndConditions" /> 
            I agree to the 
            <a routerLink="/terms-conditions" style="color: blue">Terms and Conditions</a>
            <div *ngIf="userForm.get('termsAndConditions')?.touched && userForm.get('termsAndConditions')?.invalid" class="alert alert-danger mt-2">
              You must agree to the Terms and Conditions.
            </div>
          </div>

          <!-- Submit Button -->
          <button type="submit" class="btn btn-primary col-md-6" [disabled]="userForm.invalid">
            Register
          </button>

          <!-- Success and Error Messages -->
          <div *ngIf="message" class="alert alert-success mt-3">{{ message }}</div>
          <div *ngIf="errorMessage" class="alert alert-danger mt-3">{{ errorMessage }}</div>

          <small style="color: rgb(6, 5, 5); font-size: 11px">
            At least one uppercase, numeric digit, lowercase, special character, length only 6 characters
          </small>

          <!-- Login and Terms Links -->
          <div style="display: flex; justify-content: center">
            <p>
              Already have an account?
              <a routerLink="/login" style="color: blue">Login</a>
              <br>
            </p>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>